@{
    ViewBag.Title = "Clientes";
}

@section scripts{
    <script type="text/javascript">

        //$("#txtCpf").

        $("#btnBuscar").click(
            function () {
                var txtBusca = $("#txtBusca").val();

            }
        );

        function LimparCampos()
        {
            $("#hdId").val("");
            $("#txtNome").val("");
            $("#txtCpf").val("");
        }

        $("#btnSalvar").click(
            function () {
                var hdId = $("#hdId").val();
                var txtNome = $("#txtNome").val();
                var txtCpf = $("#txtCpf").val();

                var cliente = { Id: hdId, Nome: txtNome, Cpf: txtCpf };
                var method = "";
                var type = "";

                if (hdId.length > 0) {
                    method = "/api/Cliente/" + hdId;
                    type = "PUT"
                }
                else {
                    method = "/api/Cliente";
                    type = "POST"
                }

                $.ajax({
                    type: type,
                    url: method,
                    data: cliente,
                    datatype: "html",
                    success: function (data) {
                        //$('#result').html(data);
                    }
                });
            }
        );

    </script>
}

<div class="row">
    <div class="col-lg-12 col-md-12 col-xs-12">
        <fieldset>
            <legend>Consulta</legend>
            <div class="form-group">
                <label for="txtBusca">
                    Nome ou CPF
                </label>
                <input type="email" class="form-control" id="txtBusca" />
            </div>
            <a id="btnBuscar" class="btn btn-default">
                Buscar
            </a>
            <a type="submit" class="btn btn-success" href="#modalCadastroClientes" data-toggle="modal">
                Novo
            </a>
        </fieldset>
    </div>
</div>
<br />
<hr />
<br />
<div class="row">
    <div class="col-lg-12 col-md-12 col-xs-12">
        <table id="listClientes" class="table">
            <thead>
                <tr>
                    <th colspan="4">
                        Lista de Clientes
                    </th>
                </tr>
                <tr>
                    <th>
                        #
                    </th>
                    <th>
                        Nome
                    </th>
                    <th>
                        CPF
                    </th>
                    <th>

                    </th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <ul class="pagination">
            <li>
                <a href="#">Prev</a>
            </li>
            <li>
                <a href="#">1</a>
            </li>
            <li>
                <a href="#">2</a>
            </li>
            <li>
                <a href="#">3</a>
            </li>
            <li>
                <a href="#">4</a>
            </li>
            <li>
                <a href="#">5</a>
            </li>
            <li>
                <a href="#">Next</a>
            </li>
        </ul>
    </div>
</div>
<div class="modal fade" id="modalCadastroClientes" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    ×
                </button>
                <h4 class="modal-title" id="myModalLabel">
                    Cadastro de Cliente
                </h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="txtNome">
                        Nome
                    </label>
                    <input type="text" class="form-control" id="txtNome" />
                    <input type="hidden" class="form-control" id="hdId" />
                </div>
                <div class="form-group">
                    <label for="txtCpf">
                        CPF
                    </label>
                    <input type="number" class="form-control" id="txtCpf" />
                </div>
            </div>
            <div class="modal-footer">
                <a class="btn btn-default" data-dismiss="modal">
                    Cancelar
                </a>
                <a id="btnSalvar" class="btn btn-primary">
                    Salvar
                </a>
            </div>
        </div>
    </div>
</div>